"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[92881],{55148:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var o=a(67294),n=a(93117);const l="INIT",r="SUBMITTING",s="ERROR",c="SUCCESS",i={id:"cle3aaabg0025l30f3f5mewao",formStyle:"buttonBelow",placeholderText:"you@example.com",formFont:"Roboto",formFontColor:"#000000",formFontSizePx:14,buttonText:"Subscribe",successMessage:"Awesome! We'll be in touch!",successFont:"Roboto",successFontColor:"#000000",successFontSizePx:14,userGroup:"beta"},m="app.loops.so";function u(){const[e,t]=(0,o.useState)(""),[a,n]=(0,o.useState)(l),[u,p]=(0,o.useState)(""),d=()=>{t(""),n(l),p("")},f=t=>{if(t.preventDefault(),a!==l)return;if(!function(e){return/.+@.+/.test(e)}(e))return n(s),void p("Please enter a valid email");if((()=>{const e=(new Date).valueOf(),t=localStorage.getItem("loops-form-timestamp");return t&&Number(t)+6e4>e?(n(s),p("Too many signups, please try again in a little while"),!0):(localStorage.setItem("loops-form-timestamp",e.toString()),!1)})())return;n(r);const o=`userGroup=${encodeURIComponent(i.userGroup)}&email=${encodeURIComponent(e)}`;fetch(`https://${m}/api/newsletter-form/${i.id}`,{method:"POST",body:o,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>[e.ok,e.json(),e])).then((e=>{let[t,a,o]=e;t?(d(),n(c)):a.then((e=>{n(s),p(e.message||o.statusText),localStorage.setItem("loops-form-timestamp","")}))})).catch((e=>{n(s),"Failed to fetch"===e.message?p("Too many signups, please try again in a little while"):e.message&&p(e.message),localStorage.setItem("loops-form-timestamp","")}))},g="inline"===i.formStyle;switch(a){case c:return o.createElement("div",{className:"col col--6 col--offset-3"},o.createElement("div",{className:"alert alert--success",role:"alert"},i.successMessage));case s:return o.createElement(o.Fragment,null,o.createElement(b,null),o.createElement(x,null));default:return o.createElement(o.Fragment,null,o.createElement("form",{onSubmit:f,style:{display:"flex",flexDirection:g?"row":"column",alignItems:"center",justifyContent:"center",width:"100%"}},o.createElement("input",{type:"text",name:"email",placeholder:i.placeholderText,value:e,onChange:e=>t(e.target.value),required:!0,style:{color:i.formFontColor,fontFamily:`'${i.formFont}', sans-serif`,fontSize:`${i.formFontSizePx}px`,margin:g?"0px 10px 0px 0px":"0px 0px 10px",width:"100%",maxWidth:"300px",minWidth:"100px",background:"#FFFFFF",border:"1px solid #D1D5DB",boxSizing:"border-box",boxShadow:"rgba(0, 0, 0, 0.05) 0px 1px 2px",borderRadius:"6px",padding:"8px 12px"}}),o.createElement(h,null)))}function b(){return o.createElement("div",{className:"col col--6 col--offset-3"},o.createElement("div",{className:"alert alert--danger",role:"alert"},u||"Oops! Something went wrong, please try again"))}function x(){return o.createElement("button",{className:"button button--primary button--outline button--lg margin--lg",onClick:d},"\u2190 Back")}function h(e){let{props:t}=e;return o.createElement("button",{className:"button button--primary button--lg margin--lg",type:"submit"},a===r?"Please wait...":i.buttonText)}}function p(){return o.createElement(n.Z,{title:"Updates",description:"Cloud infrastructure as data in PostgreSQL"},o.createElement("div",{className:"container text--center"},o.createElement("div",{className:"row padding--lg"},o.createElement("div",{className:"col"},o.createElement("h1",null,"Stay up to date \ud83d\udcec"),o.createElement("p",{className:"hero__subtitle"},"Be the first to know when we ship new features and updates. See past updates ",o.createElement("a",{href:"/blog/tags/updates"},"here"),"!"),o.createElement("div",{className:"padding--md"},o.createElement(u,null))))))}}}]);