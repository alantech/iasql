"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[84998],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>h});var s=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,s,n=function(e,t){if(null==e)return{};var a,s,n={},r=Object.keys(e);for(s=0;s<r.length;s++)a=r[s],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)a=r[s],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var c=s.createContext({}),l=function(e){var t=s.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=l(e.components);return s.createElement(c.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},m=s.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,c=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),p=l(a),m=n,h=p["".concat(c,".").concat(m)]||p[m]||u[m]||r;return a?s.createElement(h,o(o({ref:t},d),{},{components:a})):s.createElement(h,o({ref:t},d))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=m;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[p]="string"==typeof e?e:n,o[1]=i;for(var l=2;l<r;l++)o[l]=a[l];return s.createElement.apply(null,o)}return s.createElement.apply(null,a)}m.displayName="MDXCreateElement"},52742:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var s=a(87462),n=(a(67294),a(3905)),r=a(44996),o=a(50941);const i={sidebar_position:1,slug:"/aws"},c="Manage an AWS Account",l={unversionedId:"how-to/aws",id:"version-0.1.9/how-to/aws",title:"Manage an AWS Account",description:"IaSQL requires AWS credentials to manage the resources within an AWS account via an IAM user with **Programmatic Access**. IAM users can be created through the console/UI or CLI. Ensure that the IAM role has sufficient permissions to deploy and manage the infrastructure resources you are interested in. AdministratorAccess provides full access to deploy and manage all types of resources. ReadOnlyAccess access provides access to inspect all of the different kinds of existing resources but does not modify them or create new ones. The former provides full IaSQL support, while the latter only provides access to SELECT statements, and INSERT/UPDATE/DELETE statements will fail. Read more about IaSQL transactions here.",source:"@site/versioned_docs/version-0.1.9/how-to/aws.mdx",sourceDirName:"how-to",slug:"/aws",permalink:"/docs/aws",draft:!1,editUrl:"https://github.com/alantech/iasql/tree/main/site/versioned_docs/version-0.1.9/how-to/aws.mdx",tags:[],version:"0.1.9",sidebarPosition:1,frontMatter:{sidebar_position:1,slug:"/aws"},sidebar:"docs",previous:{title:"Get started in four steps",permalink:"/docs/"},next:{title:"Connecting to PostgreSQL",permalink:"/docs/postgres"}},d={},p=[{value:"View existing AWS CLI credentials",id:"view-existing-aws-cli-credentials",level:2},{value:"Add the necessary cloud services to the PostgreSQL database",id:"add-the-necessary-cloud-services-to-the-postgresql-database",level:2}],u={toc:p},m="wrapper";function h(e){let{components:t,...a}=e;return(0,n.kt)(m,(0,s.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"manage-an-aws-account"},"Manage an AWS Account"),(0,n.kt)("p",null,"IaSQL requires AWS credentials to manage the resources within an AWS account via an ",(0,n.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html"},"IAM user")," with ",(0,n.kt)("strong",{parentName:"p"},"Programmatic Access"),". IAM users can be created through the ",(0,n.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html#id_users_create_console"},"console/UI")," or ",(0,n.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html#id_users_create_cliwpsapi"},"CLI"),". Ensure that the IAM role has sufficient permissions to deploy and manage the infrastructure resources you are interested in. ",(0,n.kt)("inlineCode",{parentName:"p"},"AdministratorAccess")," provides full access to deploy and manage all types of resources. ",(0,n.kt)("inlineCode",{parentName:"p"},"ReadOnlyAccess")," access provides access to inspect all of the different kinds of existing resources but does not modify them or create new ones. The former provides full IaSQL support, while the latter only provides access to ",(0,n.kt)("inlineCode",{parentName:"p"},"SELECT")," statements, and ",(0,n.kt)("inlineCode",{parentName:"p"},"INSERT/UPDATE/DELETE")," statements will fail. Read more about IaSQL transactions ",(0,n.kt)("a",{parentName:"p",href:"/docs/transaction"},"here"),"."),(0,n.kt)("p",null,"For standard AWS credentials there are two parts to each ",(0,n.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys"},"access key"),", which you\u2019ll see in the IAM console/CLI after you create it, an id and a secret. It is possible to ",(0,n.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_request.html"},"generate temporary credentials with a limited lifespan"),", in which case you also have a session token that must be provided."),(0,n.kt)(o.Z,{alt:"Connect",sources:{light:(0,r.Z)("/screenshots/connect.png"),dark:(0,r.Z)("/screenshots/connect_dark.png")},mdxType:"ThemedImage"}),(0,n.kt)("h2",{id:"view-existing-aws-cli-credentials"},"View existing AWS CLI credentials"),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html"},"AWS CLI")," creates a plaintext credentials file on your machine that contains the AWS access keys that the CLI has access to. The file is named ",(0,n.kt)("inlineCode",{parentName:"p"},"credentials")," and is located inside the ",(0,n.kt)("inlineCode",{parentName:"p"},".aws/")," directory in your home directory."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"$ cat ~/.aws/credentials\n\n[default]\naws_access_key_id = <YOUR_ACCESS_KEY_ID>\naws_secret_access_key = <YOUR_SECRET_ACCESS_KEY>\n")),(0,n.kt)("h2",{id:"add-the-necessary-cloud-services-to-the-postgresql-database"},"Add the necessary cloud services to the PostgreSQL database"),(0,n.kt)("p",null,"Connect to your database and use the ",(0,n.kt)("inlineCode",{parentName:"p"},"iasql_install")," IaSQL PostgreSQL ",(0,n.kt)("a",{parentName:"p",href:"/docs/modules/builtin/iasql_functions"},"function")," which is already loaded into your database to install different ",(0,n.kt)("a",{parentName:"p",href:"/docs/module"},"modules")," and start managing different parts of your cloud account. Many different clients can be used to ",(0,n.kt)("a",{parentName:"p",href:"/docs/postgres"},"connect")," to a PostgreSQL database."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"To see the available modules use the ",(0,n.kt)("inlineCode",{parentName:"p"},"modules_list")," ",(0,n.kt)("a",{parentName:"p",href:"/docs/modules/builtin/iasql_functions"},"function")," which will return a virtual table")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT\n  *\nFROM\n  iasql_install ('aws_iam', 'aws_cloudwatch', 'aws_ecr', 'aws_ecs_fargate', 'aws_elb', 'aws_security_group', 'aws_vpc');\n")))}h.isMDXComponent=!0}}]);